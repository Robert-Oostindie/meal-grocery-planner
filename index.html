<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Meal & Grocery Planner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-shell">
    <header>
      <div class="app-title">
        Meal Planner
        <span class="sub">Meals ‚Ä¢ Pantry ‚Ä¢ Stores ‚Ä¢ Extras ‚Ä¢ Groceries</span>
      </div>
      <div class="pill">Weekly Groceries</div>
    </header>

    <main>
      <!-- MEALS TAB -->
      <section id="tab-meals">
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">Add a Meal</div>
              <div class="card-subtitle">
                Define meals and their ingredients once, reuse every week.
              </div>
            </div>
          </div>
          <div class="mt-4">
            <label for="meal-name">Meal name</label>
            <input id="meal-name" type="text" placeholder="e.g. Chicken Burrito Bowl" />
          </div>
          <div class="mt-4">
            <label for="meal-notes">Notes (optional)</label>
            <textarea id="meal-notes" placeholder="e.g. Kids love this ‚Ä¢ Use on Tuesdays"></textarea>
          </div>
          <div class="mt-6" style="display:flex; justify-content:flex-end;">
            <button class="btn btn-primary" id="add-meal-btn">
              <span>Ôºã Add Meal</span>
            </button>
          </div>
          <div class="inline-note">
            Tip: After adding a meal, open it below to attach ingredients, stores, and substitutes.
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">Saved Meals</div>
              <div class="card-subtitle">
                Substitute groups let you swap ingredients week by week.
              </div>
            </div>
            <span class="badge" id="meal-count-badge">0 meals</span>
          </div>
          <div id="meal-list" class="meal-list"></div>
          <div id="meals-empty-state" class="muted mt-4">
            No meals yet. Add your first meal above.
          </div>
        </div>
      </section>

      <!-- PLANNER TAB -->
      <section id="tab-planner" class="hidden">
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">Weekly Plan</div>
              <div class="card-subtitle">
                Select meals for this week. You‚Äôll pick substitutes before generating the list.
              </div>
            </div>
            <span class="badge"><span>üóìÔ∏è</span> Week</span>
          </div>
          <div id="planner-meals"></div>
          <div id="planner-empty" class="muted">
            Add some meals first on the <strong>Meals</strong> tab.
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">Generate Grocery List</div>
              <div class="card-subtitle">
                Uses selected meals, extras, and pantry. You‚Äôll choose options for each substitute group.
              </div>
            </div>
          </div>
          <p class="section-note">
            When you're ready for this week's shopping, tap the button below.
          </p>
          <button class="btn btn-primary" id="generate-list-btn">
            <span>üõí Generate Grocery List</span>
          </button>
          <p class="inline-note">
            Your list will be grouped by store under the <strong>Groceries</strong> tab.
          </p>
        </div>
      </section>

      <!-- PANTRY TAB -->
      <section id="tab-pantry" class="hidden">
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">Pantry & Fridge</div>
              <div class="card-subtitle">
                Mark what you already have. The app skips these items when building the list.
              </div>
            </div>
            <span class="badge"><span>‚úÖ</span> Have It</span>
          </div>
          <p class="section-note">
            Items come from the ingredients in your meals. Check the box if it's currently stocked.
          </p>
          <div class="mt-4">
            <label for="pantry-search">Filter ingredients</label>
            <input id="pantry-search" type="text" placeholder="e.g. chicken, pasta‚Ä¶" />
          </div>
          <hr class="divider" />
          <div id="pantry-list"></div>
          <div id="pantry-empty" class="muted">
            No ingredients yet. Add some ingredients to your meals on the <strong>Meals</strong> tab.
          </div>
        </div>
      </section>

      <!-- STORES TAB -->
      <section id="tab-stores" class="hidden">
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">Stores</div>
              <div class="card-subtitle">
                Manage places you shop: Aldi, Walmart, Festival Foods, Woodmans, etc.
              </div>
            </div>
            <span class="badge"><span>üè¨</span> Locations</span>
          </div>
          <div class="mt-4 row">
            <div>
              <label for="store-name">Add store</label>
