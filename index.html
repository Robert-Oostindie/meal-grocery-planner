<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meal Planner</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <!-- TOP NAV TABS -->
    <div class="top-tabs">
        <button class="tab-btn active" data-tab="recipesTab">Recipes</button>
        <button class="tab-btn" data-tab="plannerTab">Planner</button>
        <button class="tab-btn" data-tab="groceryTab">Grocery List</button>
        <button class="tab-btn" data-tab="categoriesTab">Categories</button>
        <button class="tab-btn" data-tab="storesTab">Stores</button>
        <button class="tab-btn" data-tab="otherTab">Other</button>
    </div>

    <!-- MAIN APP CONTAINER -->
    <div class="app-container">

        <!-- RECIPES TAB -->
<div id="recipesTab" class="tab-page active">
    <h1>Recipes</h1>

    <div class="section-note">
        Add or edit meals. Ingredients & substitutes added in next steps.
    </div>

    <button class="primary add-recipe-btn" onclick="openRecipeModalNew()">
        + Add Recipe
    </button>

    <div id="recipesList"></div>
</div>


        <!-- PLANNER TAB -->
        <div id="plannerTab" class="tab-page">
            <h1>Planner</h1>
            <p class="section-note">
                This will become your weekly meal planner.
            </p>
        </div>

        <!-- GROCERY TAB -->
        <div id="groceryTab" class="tab-page">
            <h1>Grocery List</h1>
            <p class="section-note">
                This will show grocery items grouped by store based on your planner.
            </p>
        </div>

        <!-- CATEGORIES TAB -->
        <div id="categoriesTab" class="tab-page">
            <h1>Categories</h1>
            <p class="section-note">
                Here you’ll manage meal categories like Low Prep, Crock Pot, etc.
            </p>
        </div>

        <!-- STORES TAB -->
        <div id="storesTab" class="tab-page">
            <h1>Stores</h1>
            <p class="section-note">
                This will let you manage stores like Aldi, Walmart, Festival Foods, Woodmans.
            </p>
        </div>

        <!-- OTHER TAB -->
        <div id="otherTab" class="tab-page">
            <h1>Other</h1>
            <p class="section-note">
                Extra settings or later features will live here.
            </p>
        </div>

    </div>

    <!-- SCRIPT (versioned + deferred to avoid cache issues) -->
    <script src="script.js?v=phase1" defer></script>
    <!-- RECIPE MODAL -->
<div id="recipeModal" class="modal hidden">
    <div class="modal-backdrop" onclick="closeRecipeModal()"></div>
    <div class="modal-content">

        <div class="modal-header">
            <h2 id="recipeModalTitle">Add Recipe</h2>
            <button class="modal-close" onclick="closeRecipeModal()">×</button>
        </div>

        <div class="modal-steps">
            <span id="stepDot1" class="step-dot active"></span>
            <span id="stepDot2" class="step-dot"></span>
            <span id="stepDot3" class="step-dot"></span>
        </div>

        <!-- STEP 1 — BASIC INFO -->
        <div id="modalStep1" class="modal-step">
            <label>Meal Name:</label>
            <input id="modalRecipeName" type="text" placeholder="Ex: Chicken Alfredo">

            <label>Category:</label>
            <select id="modalRecipeCategory"></select>

            <div class="modal-actions">
                <button onclick="closeRecipeModal()">Cancel</button>
                <button class="primary" onclick="goToStep(2)">Next →</button>
            </div>
        </div>

        <!-- STEP 2 — INGREDIENTS -->
        <div id="modalStep2" class="modal-step hidden">
            <h3>Ingredients</h3>
            <p class="small-note">Add all ingredients with store + unit + substitutes.</p>

            <div id="ingredientsContainer"></div>

            <button class="primary" onclick="addIngredientRow()">+ Add Ingredient</button>

            <div class="modal-actions">
                <button onclick="goToStep(1)">← Back</button>
                <button class="primary" onclick="goToStep(3)">Next →</button>
            </div>
        </div>

        <!-- STEP 3 — REVIEW -->
        <div id="modalStep3" class="modal-step hidden">
            <h3>Review Recipe</h3>

            <div class="review-block">
                <strong>Name:</strong> <span id="reviewName"></span><br>
                <strong>Category:</strong> <span id="reviewCategory"></span>
            </div>

            <div class="review-block">
                <strong>Ingredients:</strong>
                <ul id="reviewIngredients"></ul>
            </div>

            <div class="modal-actions">
                <button onclick="goToStep(2)">← Back</button>
                <button class="primary" onclick="saveRecipe()">Save Recipe</button>
            </div>
        </div>

    </div>
</div>

</body>
</html>
